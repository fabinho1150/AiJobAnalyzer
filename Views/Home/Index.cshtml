@model AiJobAnalyzer.ViewModels.JobAnalyzeViewModel

@{
    ViewData["Title"] = "AI Job Analyzer";
}

<div class="text-center mb-5">

    <h1 class="display-3 fw-bold">
        AI Job Analyzer
    </h1>

    <p class="lead text-muted">
        Analysiere Stellenanzeigen mit künstlicher Intelligenz
        und finde heraus, wie gut sie zu deinem Profil passen.
    </p>

</div>

<div class="card shadow-lg border-0">
    <div class="card-body p-5">

        <form method="post" id="analyzeForm">

            <label class="fw-bold mb-2">
                📄 Stellenanzeige einfügen
            </label>

            <textarea asp-for="JobText"
                      class="form-control mb-3"
                      rows="10"
                      placeholder="Füge hier eine komplette Stellenbeschreibung ein..."></textarea>

            <button class="btn btn-primary btn-lg w-100">
                🔍 Analyse starten
            </button>

            <div id="loading" class="text-center mt-4" style="display:none;">
                <div class="spinner-border text-primary"></div>
                <p class="text-muted mt-2">
                    AI analysiert die Anzeige...
                </p>
            </div>

        </form>

    </div>
</div>

@@if (!string.IsNullOrWhiteSpace(Model.Result))
{
@if (Model.IsDemoMode)
{
    <div class="alert alert-warning mt-4">
        ⚠️ Demo-Modus aktiv – API Limit erreicht oder offline.
        Die Analyse zeigt eine Beispielantwort.
    </div>
}

<div class="card shadow mt-4 border-success">
    <div class="card-body p-4">

        <h3 class="text-success mb-3">
            📊 Analyse Ergebnis
        </h3>

        <pre style="white-space: pre-wrap;
                        font-family: inherit;
                        font-size: 16px;">
@Model.Result
            </pre>

    </div>
</div>
}
